<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Sheeesh</title>
	</head>
	
	<body>
		<canvas id="myCanvas" width="800" height="600"></canvas>

		<script type="text/javascript">
			var canvas = document.getElementById("myCanvas");
			var ctx = canvas.getContext("2d");

			var ballR = 10;
			var ballX = (canvas.width/2)-ballR; 
			var ballY =	(canvas.height/2)-ballR;
			var ballPosUpdateX = 2;
			var ballPosUpdateY = -2;
			var richtung = Math.floor((Math.random() * 4) + 1); 

			var paddleW = 100;
			var paddleH = 20;
			var paddleX = (canvas.width/2) - (paddleW/2);
			var paddleY = canvas.height - paddleH-5;
			var right = false;
			var left = false;

			document.addEventListener("keydown",keyDownHandler,false);
			document.addEventListener("keyup",keyUpHandler,false);

			

			switch(richtung)
			{
				case 1: 
					ballPosUpdateX = 1;
					ballPosUpdateY = 1;
					break;
				case 2: 
					ballPosUpdateX = 1;
					ballPosUpdateY = -1;
					break;
				case 3: 
					ballPosUpdateX = -1;
					ballPosUpdateY = 1;
					break;
				case 4: 
					ballPosUpdateX = -1;
					ballPosUpdateY = -1;
				default:
					break;		
			}


			function drawBall()
			{
				ctx.beginPath();
				ctx.arc(ballX,ballY,ballR,0,2*Math.PI);
				ctx.fillStyle = "#0095DD";
				ctx.fill();
				ctx.closePath();
			}	

			function drawPaddle()
			{
				ctx.beginPath();
				ctx.rect(paddleX,paddleY,paddleW,paddleH);
				ctx.fillStyle = "#0095DD";
				ctx.fill();
				ctx.closePath();
			}		

			function draw()
			{
				ctx.clearRect(0,0,canvas.width,canvas.height);
				ctx.strokeRect(0,0,canvas.width,canvas.height);

				drawBall();
				drawPaddle();

				if(ballX+ballR>=canvas.width||ballX-ballR<=0)
				{
					ballPosUpdateX = -ballPosUpdateX;
				}

				if(ballY+ballR>=canvas.height||ballY-ballR<=0)
				{
					ballPosUpdateY = -ballPosUpdateY;
				}

				ballX += ballPosUpdateX;
				ballY += ballPosUpdateY;
			}
			
			setInterval(draw,0.5);
		</script>
	</body>
<html>
